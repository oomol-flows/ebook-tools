inputs_def:
  - handle: input_epub
    description: "%input-epub-file-to-convert%"
    json_schema:
      type: string
      ui:widget: file
      ui:options:
        filters:
          - name: EPUB Files
            extensions:
              - epub
        accept: .epub
    nullable: false

  - handle: output_path
    description: "%output-path-for-converted-azw3-file%"
    json_schema:
      type: string
      ui:widget: save
      ui:options:
        filters:
          - name: AZW3 Files
            extensions:
              - azw3
        excludeAll: true
    nullable: false

  - handle: quality
    description: "%conversion-quality-setting2%"
    json_schema:
      type: string
      enum:
        - low
        - medium
        - high
        - best
      default: high
    nullable: false

  - handle: preserve_metadata
    description: "%preserve-original-metadata-during-conversion2%"
    json_schema:
      type: boolean
      default: true
    nullable: false

  - handle: kindle_device
    description: "%target-kindle-device-for-optimization%"
    json_schema:
      type: string
      enum:
        - kindle
        - kindle_dx
        - kindle_fire
        - kindle_paperwhite
        - kindle_oasis
      default: kindle_paperwhite
    nullable: false

outputs_def:
  - handle: output_file
    description: "Path to the converted AZW3 file"
    json_schema:
      type: string

  - handle: conversion_log
    description: "Conversion process log and status"
    json_schema:
      type: string

executor:
  name: python
  options:
    entry: __init__.py
    spawn: false

title: "%epub-to-azw3-converter%"
icon: ":carbon:book:"
description: "%convert-epub-ebook-files-to-azw3-format-optimized-for-kindle-dev%"
